import{r as a,g as t,s as e,i as s,U as i,V as o,b as n,d as l,a as c,h as r,W as u,X as d,f as h,Y as g,n as f,M as m,l as S,w as D,m as p,o as b,p as w,t as _,z as y,A as C,F as k,u as v,x,y as T,N as U,B as A,D as N,G}from"./index-BFyEvU8g.js";import{_ as J}from"./_plugin-vue_export-helper.BCo6x5W8.js";const M={clientId:"21680db9b1362913357c",baseUrl:"https://21680db9b1362913357c.myminapp.com/hserve/v2.2",tableNames:{SearchWord_Version:"SearchWord_Version"}},I={domestic:{name:"å›½å†…æº",mainUrl:"https://raw.gitcode.com/huangjinzhou1/ArknightsAuthorization_Series/raw/main/Box_Id.json",guessUrl:"https://raw.gitcode.com/huangjinzhou1/ArknightsAuthorization_Series/blobs/609889aad07d2c031c181c4734e4cdfc4214f7dc/guessNew_Box_Id.json",searchUrl:""},github:{name:"GitHubæº",characterUrl:"https://github.com/awadwd/ArknightsCards/releases/download/Box_id_Json/Box_Id.json",warning:"ä»…æ”¯æŒåŸºç¡€è§’è‰²æ•°æ®ï¼Œæ— æ³•æ˜¾ç¤ºåˆ†ç›’ä¿¡æ¯ã€å¸‚ä»·ã€å¤´åƒåŠçƒ­åº¦æ ‡è®°"},local:{name:"æœ¬åœ°æ•°æ®",desc:"ä½¿ç”¨å·²ä¸‹è½½çš„æœ¬åœ°æ•°æ®"},custom:{name:"è‡ªå®šä¹‰æ•°æ®",desc:"ä½¿ç”¨ä¸Šä¼ çš„è‡ªå®šä¹‰æ•°æ®"}},F="https://raw.gitcode.com/huangjinzhou1/ArknightsAuthorization_Series/blobs/11e970795ce8a6e94ac5baa0d5d0458c4103c7e2/searchWord.json";const O=J({data:()=>({localUpdateTime:"",cloudUpdateTime:"",currentVersion:"",dataCount:0,localDataSize:"",enableGuessData:!1,guessDataStatusMessage:"",guessDataCount:0,enableEnglishSearch:!1,enableJapaneseSearch:!1,enableNicknameSearch:!1,searchDataStatusMessage:"",searchWordCount:0,customWordsCount:0,searchDataUrl:F,dataSource:"domestic",dataSourceOptions:[{value:"domestic",label:"å›½å†…æºï¼ˆæ¨èï¼‰",desc:"é€Ÿåº¦å¿«ï¼Œç¨³å®šæ€§å¥½ï¼Œæ”¯æŒå…¨éƒ¨åŠŸèƒ½",warning:""},{value:"github",label:"GitHubæº",desc:"å®˜æ–¹æ¸¸æˆæ•°æ®ï¼Œä»…åŸºç¡€è§’è‰²ä¿¡æ¯",warning:"ä¸æ”¯æŒåˆ†ç›’ã€å¸‚ä»·ã€å¤´åƒã€çƒ­åº¦æ ‡è®°ç­‰åŠŸèƒ½"},{value:"local",label:"æœ¬åœ°æ•°æ®",desc:"ä½¿ç”¨å·²ä¸‹è½½çš„æœ¬åœ°æ•°æ®ï¼Œæ— éœ€ç½‘ç»œ",warning:"éœ€å…ˆä¸‹è½½æ•°æ®"},{value:"custom",label:"è‡ªå®šä¹‰æ•°æ®",desc:"ä¸Šä¼ è‡ªå®šä¹‰JSONæ•°æ®",warning:"éœ€è‡ªè¡ŒéªŒè¯æ•°æ®æ ¼å¼"}],githubCharactersCount:0,githubDataStatusMessage:"",isDownloading:!1,downloadProgress:0,downloadTask:null,isDownloadCancelled:!1,customDataInfo:null,isUploading:!1,uploadProgress:0,showValidationModal:!1,validationResult:{valid:!1,message:"",details:[]},tempCustomData:null,hasDomesticData:!1,unifiedData:null,unifiedDataVersion:"",unifiedUpdateTime:""}),computed:{guessDataStatusClass(){return this.guessDataStatusMessage.includes("æˆåŠŸ")?"status-success":this.guessDataStatusMessage.includes("å¤±è´¥")||this.guessDataStatusMessage.includes("é”™è¯¯")?"status-error":"status-loading"},searchDataStatusClass(){return this.searchDataStatusMessage.includes("æˆåŠŸ")?"status-success":this.searchDataStatusMessage.includes("å¤±è´¥")||this.searchDataStatusMessage.includes("é”™è¯¯")?"status-error":"status-loading"},enabledSearchCount(){let a=0;return this.enableEnglishSearch&&a++,this.enableJapaneseSearch&&a++,this.enableNicknameSearch&&a++,a}},onLoad(){this.loadDataSourceSetting(),this.loadDataInfo(),this.calculateDataSize(),this.loadGuessDataSetting(),this.loadSearchSettings(),this.checkDomesticData(),this.loadCustomDataInfo(),this.unifyDataStorage(),wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]})},onUnload(){this.downloadTask&&this.downloadTask.abort()},onShareAppMessage:()=>({title:"æ–¹èˆŸé€šè¡Œè¯è°·å­æŸ¥è¯¢å·¥å…·-è®¾ç½®",path:"/packageA/Setting/Setting",imageUrl:""}),onShareTimeline:()=>({title:"æ–¹èˆŸé€šè¡Œè¯è°·å­æŸ¥è¯¢å·¥å…·-è®¾ç½®",imageUrl:""}),methods:{async knowCloudRequest(t,e={},s=0){if(s>3)throw console.error("çŸ¥æ™“äº‘è¯·æ±‚é‡è¯•æ¬¡æ•°è¿‡å¤š"),new Error("çŸ¥æ™“äº‘è¯·æ±‚é‡è¯•æ¬¡æ•°è¿‡å¤š");try{const s=M.tableNames[t];if(!s)throw new Error(`æœªæ‰¾åˆ°è¡¨ ${t} çš„é…ç½®`);let i=`${M.baseUrl}/table/${s}/record/`;if(e.data){const a=[];Object.keys(e.data).forEach((t=>{a.push(`${t}=${encodeURIComponent(e.data[t])}`)})),a.length>0&&(i+=`?${a.join("&")}`)}const o={url:i,method:e.method||"GET",header:{"X-Hydrogen-Client-ID":M.clientId,"Content-Type":"application/json"},timeout:15e3,...e};e.header&&Object.assign(o.header,e.header),console.log("å‘é€çŸ¥æ™“äº‘è¯·æ±‚:",o.url);const n=await a(o);if(console.log("çŸ¥æ™“äº‘å“åº”çŠ¶æ€:",n.statusCode),200===n.statusCode)return n.data;throw console.error("çŸ¥æ™“äº‘è¯·æ±‚é”™è¯¯:",n.statusCode,n.data),new Error(`è¯·æ±‚å¤±è´¥: ${n.statusCode}`)}catch(i){if(console.error(`çŸ¥æ™“äº‘è¯·æ±‚å¤±è´¥ (${t}):`,i),s<3)return console.log(`ç¬¬${s+1}æ¬¡é‡è¯•...`),await this.knowCloudRequest(t,e,s+1);throw i}},async getSearchDataUrlFromMinapp(){try{const a=await this.knowCloudRequest("SearchWord_Version",{data:{limit:1,offset:0,orderby:"-created_at"}});if(console.log("çŸ¥æ™“äº‘æœç´¢è¯ç‰ˆæœ¬ä¿¡æ¯å“åº”:",a),a&&a.objects&&a.objects.length>0){const t=a.objects[0];console.log("æœç´¢è¯ç‰ˆæœ¬æ•°æ®:",t);let e=t.url||"";return e||(console.warn("çŸ¥æ™“äº‘è¿”å›çš„URLä¸ºç©ºï¼Œä½¿ç”¨å›ºå®šURL"),e=F),{url:e,version:t.version||t.Version||"",updateTime:t.updated_at||t.created_at||""}}return console.warn("çŸ¥æ™“äº‘æœªæ‰¾åˆ°æœç´¢è¯æ•°æ®ï¼Œä½¿ç”¨å›ºå®šURL"),{url:F,version:"å›ºå®šç‰ˆæœ¬",updateTime:(new Date).toISOString()}}catch(a){return console.error("ä»çŸ¥æ™“äº‘è·å–æœç´¢è¯URLå¤±è´¥:",a),console.warn("çŸ¥æ™“äº‘è¯·æ±‚å¤±è´¥ï¼Œä½¿ç”¨å›ºå®šURL"),{url:F,version:"å›ºå®šç‰ˆæœ¬",updateTime:(new Date).toISOString()}}},unifyDataStorage(){var a;switch(this.dataSource){case"domestic":const e=t("arknightsData");e&&(this.unifiedData=e,this.unifiedDataVersion=t("dataVersion")||"æœªçŸ¥ç‰ˆæœ¬",this.unifiedUpdateTime=t("localUpdateTime")||"");break;case"github":const s=t("githubCharacters");s&&(this.unifiedData=s,this.unifiedDataVersion=t("githubDataVersion")||"GitHubç‰ˆæœ¬",this.unifiedUpdateTime=(new Date).toISOString());break;case"custom":const i=t("customData");i&&(this.unifiedData=i,this.unifiedDataVersion="è‡ªå®šä¹‰æ•°æ®ç‰ˆæœ¬",this.unifiedUpdateTime=(null==(a=t("customDataInfo"))?void 0:a.uploadTime)||"");break;case"local":const o=t("arknightsData");o&&(this.unifiedData=o,this.unifiedDataVersion=t("dataVersion")||"æœ¬åœ°ç‰ˆæœ¬",this.unifiedUpdateTime=t("localUpdateTime")||"")}this.unifiedData&&(e("currentData",this.unifiedData),e("currentDataVersion",this.unifiedDataVersion),e("currentUpdateTime",this.unifiedUpdateTime),e("currentDataSource",this.dataSource))},clearAllDownloadedFiles(){try{if(["arknightsData","githubCharacters","customData","currentData","currentDataVersion","currentUpdateTime","searchWords","enableEnglishSearch","enableJapaneseSearch","enableNicknameSearch","customSearchWords","guessData","enableGuessData","dataVersion","githubDataVersion","localUpdateTime","cloudUpdateTime","customDataInfo","dataUrl","searchDataUrl"].forEach((a=>{s(a)})),"undefined"!=typeof wx)try{wx.getFileSystemManager();const a=i?i():null;a&&a.fileList&&a.fileList.forEach((a=>{o({filePath:a.filePath,fail:a=>{console.log("åˆ é™¤æ–‡ä»¶å¤±è´¥:",a)}})}))}catch(a){console.log("æ¸…é™¤æ–‡ä»¶å¤±è´¥:",a)}return!0}catch(t){return console.error("æ¸…é™¤æ•°æ®å¤±è´¥:",t),!1}},resetAllDataStates(){this.localUpdateTime="",this.cloudUpdateTime="",this.currentVersion="",this.dataCount=0,this.localDataSize="æ— æ•°æ®",this.enableGuessData=!1,this.guessDataCount=0,this.guessDataStatusMessage="",this.enableEnglishSearch=!1,this.enableJapaneseSearch=!1,this.enableNicknameSearch=!1,this.searchWordCount=0,this.customWordsCount=0,this.searchDataStatusMessage="",this.githubCharactersCount=0,this.githubDataStatusMessage="",this.customDataInfo=null,this.hasDomesticData=!1,this.unifiedData=null,this.unifiedDataVersion="",this.unifiedUpdateTime=""},checkDomesticData(){try{const a=t("arknightsData");this.hasDomesticData=a&&Array.isArray(a)&&a.length>0}catch(a){console.error("æ£€æŸ¥å›½å†…æºæ•°æ®å¤±è´¥:",a),this.hasDomesticData=!1}},loadCustomDataInfo(){try{const a=t("customDataInfo");a&&(this.customDataInfo=a)}catch(a){console.error("åŠ è½½è‡ªå®šä¹‰æ•°æ®ä¿¡æ¯å¤±è´¥:",a)}},loadDataSourceSetting(){try{const a=t("dataSource");a&&(this.dataSource=a),"github"===this.dataSource&&this.loadGithubDataInfo()}catch(a){console.error("åŠ è½½æ•°æ®æºè®¾ç½®å¤±è´¥:",a)}},loadGithubDataInfo(){try{const a=t("githubCharacters");a&&Array.isArray(a)&&(this.githubCharactersCount=a.length)}catch(a){console.error("åŠ è½½GitHubæ•°æ®ä¿¡æ¯å¤±è´¥:",a)}},getCurrentDataSourceName(){var a;return(null==(a=I[this.dataSource])?void 0:a.name)||"æœªçŸ¥"},async selectDataSource(a){if(this.isDownloading||this.isUploading)n({title:"æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™",icon:"none"});else if(this.dataSource!==a){if("local"===a){const e=t("arknightsData");return e&&0!==e.length?void this.confirmSwitchDataSource(a):void l({title:"æç¤º",content:"æœ¬åœ°æš‚æ— æ•°æ®ï¼Œè¯·å…ˆä¸‹è½½æ•°æ®åå†é€‰æ‹©æœ¬åœ°æ•°æ®æº",showCancel:!1})}if("custom"===a){const e=t("customData");return e&&0!==e.length?void this.confirmSwitchDataSource(a):void l({title:"æç¤º",content:"æš‚æ— è‡ªå®šä¹‰æ•°æ®ï¼Œè¯·å…ˆä¸Šä¼ JSONæ–‡ä»¶",confirmText:"ä¸Šä¼ æ•°æ®",cancelText:"å–æ¶ˆ",success:a=>{a.confirm&&this.uploadCustomData()}})}"domestic"!==a?"github"===a&&this.confirmSwitchToGithub(a):this.confirmSwitchDataSource(a)}},async confirmSwitchToGithub(a){l({title:"é‡è¦æç¤º",content:"GitHubæºä»…æä¾›åŸºç¡€è§’è‰²æ•°æ®ï¼Œæ— æ³•æ˜¾ç¤ºåˆ†ç›’ä¿¡æ¯ã€å¸‚ä»·ä¿¡æ¯ã€è§’è‰²å¤´åƒåŠçƒ­åº¦æ ‡è®°ç­‰ç‰¹æ®ŠåŠŸèƒ½ã€‚åˆ‡æ¢åå°†æ¸…é™¤æ‰€æœ‰å·²ä¸‹è½½æ•°æ®ã€‚æ˜¯å¦ç»§ç»­ä½¿ç”¨GitHubæºï¼Ÿ",confirmText:"ç»§ç»­ä½¿ç”¨",cancelText:"å–æ¶ˆ",success:t=>{t.confirm&&this.startGithubDownload(a)}})},async startGithubDownload(a){this.clearAllDownloadedFiles(),this.isDownloading=!0,this.downloadProgress=0,this.isDownloadCancelled=!1,c({title:"æ­£åœ¨ä¸‹è½½GitHubæ•°æ®...",mask:!0});try{await this.downloadGithubData()&&!this.isDownloadCancelled?(this.dataSource=a,e("dataSource",a),this.unifyDataStorage(),r(),n({title:"å·²æˆåŠŸåˆ‡æ¢åˆ°GitHubæº",icon:"success",duration:2e3}),this.loadDataInfo()):this.isDownloadCancelled||(r(),l({title:"ä¸‹è½½å¤±è´¥",content:"GitHubæ•°æ®ä¸‹è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•",showCancel:!1}))}catch(t){console.error("ä¸‹è½½GitHubæ•°æ®å¤±è´¥:",t),this.isDownloadCancelled||(r(),l({title:"ä¸‹è½½å¤±è´¥",content:"GitHubæ•°æ®ä¸‹è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥",showCancel:!1}))}finally{this.isDownloading=!1,this.downloadProgress=0}},confirmSwitchDataSource(a){this.clearAllDownloadedFiles(),this.dataSource=a,e("dataSource",a);let t="";"domestic"===a?(t="å·²åˆ‡æ¢è‡³å›½å†…æºï¼Œä¸‹æ¬¡ä¸‹è½½å°†ä½¿ç”¨å›½å†…é•œåƒ",this.unifiedData=null,this.unifiedDataVersion="",this.unifiedUpdateTime="",this.dataCount=0,this.localUpdateTime="",this.cloudUpdateTime="",this.currentVersion=""):"local"===a?t="å·²åˆ‡æ¢è‡³æœ¬åœ°æ•°æ®ï¼Œå°†ä½¿ç”¨å·²ä¸‹è½½çš„æœ¬åœ°æ•°æ®":"custom"===a&&(t="å·²åˆ‡æ¢è‡³è‡ªå®šä¹‰æ•°æ®"),n({title:t,icon:"success",duration:2e3}),setTimeout((()=>{this.unifyDataStorage(),this.loadDataInfo()}),500)},cancelDownload(){this.isDownloadCancelled=!0,this.downloadTask&&this.downloadTask.abort(),this.isDownloading=!1,this.downloadProgress=0,r(),n({title:"å·²å–æ¶ˆä¸‹è½½",icon:"none"})},uploadCustomData(){this.isUploading||this.isDownloading||u({itemList:["é€‰æ‹©JSONæ–‡ä»¶","ç²˜è´´JSONæ•°æ®"],success:a=>{0===a.tapIndex?this.selectJsonFile():this.inputJsonData()}})},selectJsonFile(){wx.chooseMessageFile({count:1,type:"file",extension:[".json"],success:a=>{const t=a.tempFiles[0];t.size>10485760?n({title:"æ–‡ä»¶å¤ªå¤§ï¼Œè¯·é€‰æ‹©å°äº10MBçš„æ–‡ä»¶",icon:"none"}):this.processJsonFile(t.path)},fail:a=>{console.error("é€‰æ‹©æ–‡ä»¶å¤±è´¥:",a),n({title:"é€‰æ‹©æ–‡ä»¶å¤±è´¥",icon:"none"})}})},inputJsonData(){l({title:"è¾“å…¥JSONæ•°æ®",editable:!0,placeholderText:"è¯·åœ¨æ­¤å¤„ç²˜è´´JSONæ•°æ®...",confirmText:"éªŒè¯",cancelText:"å–æ¶ˆ",success:a=>{a.confirm&&a.content&&this.processJsonString(a.content)}})},async processJsonFile(a){this.isUploading=!0,this.uploadProgress=30;try{const t=await this.readFile(a);this.uploadProgress=60,await this.processJsonString(t)}catch(t){console.error("å¤„ç†JSONæ–‡ä»¶å¤±è´¥:",t),n({title:"è¯»å–æ–‡ä»¶å¤±è´¥",icon:"none"})}finally{this.isUploading=!1,this.uploadProgress=0}},readFile:a=>new Promise(((t,e)=>{uni.getFileSystemManager().readFile({filePath:a,encoding:"utf8",success:a=>{t(a.data)},fail:a=>{e(a)}})})),async processJsonString(a){this.isUploading=!0,this.uploadProgress=80;try{let e;try{e=JSON.parse(a)}catch(t){throw n({title:"JSONæ ¼å¼é”™è¯¯",icon:"none"}),new Error("JSONè§£æå¤±è´¥")}this.uploadProgress=90;const s=this.validateCustomData(e);this.uploadProgress=100,this.tempCustomData=e,this.validationResult=s,this.showValidationModal=!0}catch(e){console.error("å¤„ç†JSONæ•°æ®å¤±è´¥:",e),n({title:"æ•°æ®å¤„ç†å¤±è´¥",icon:"none"})}finally{this.isUploading=!1,this.uploadProgress=0}},validateCustomData(a){const t={valid:!1,message:"",details:[]};if(!Array.isArray(a))return t.message="æ•°æ®æ ¼å¼é”™è¯¯ï¼šæ•°æ®åº”ä¸ºæ•°ç»„æ ¼å¼",t.details.push("âŒ æ•°æ®åº”ä¸ºæ•°ç»„æ ¼å¼"),t;if(0===a.length)return t.message="æ•°æ®ä¸ºç©ºï¼šæœªæ‰¾åˆ°ä»»ä½•ç›’å·æ•°æ®",t.details.push("âŒ æ•°æ®ä¸ºç©ºï¼Œæœªæ‰¾åˆ°ä»»ä½•ç›’å·"),t;t.details.push(`âœ… æ•°æ®æ ¼å¼æ­£ç¡®ï¼Œå…± ${a.length} ä¸ªå…ƒç´ `);const e=a[0],s=["Box_id"],i=["character1","character2","character3","character4","character5","character6"];for(const d of s)void 0===e[d]?t.details.push(`âŒ ç¼ºå°‘å¿…éœ€å­—æ®µ: ${d}`):t.details.push(`âœ… åŒ…å«å¿…éœ€å­—æ®µ: ${d}`);let o=!1;for(const d of i)if(void 0!==e[d]){o=!0,t.details.push(`âœ… åŒ…å«å¹²å‘˜å­—æ®µ: ${d}`);break}o||t.details.push("âŒ æœªæ‰¾åˆ°ä»»ä½•å¹²å‘˜å­—æ®µ (character1-character6)");let n=!0;a.forEach(((a,e)=>{a.Box_id&&"string"!=typeof a.Box_id&&"number"!=typeof a.Box_id&&(t.details.push(`âŒ ç¬¬ ${e+1} ä¸ªå…ƒç´  Box_id ç±»å‹é”™è¯¯`),n=!1)})),n&&t.details.push("âœ… æ‰€æœ‰Box_idå­—æ®µç±»å‹æ­£ç¡®");const l=new Set;let c=!1;a.forEach((a=>{a.Box_id&&(l.has(String(a.Box_id))&&(c=!0),l.add(String(a.Box_id)))})),c?t.details.push("âš ï¸ å‘ç°é‡å¤çš„Box_id"):t.details.push("âœ… æ‰€æœ‰Box_idå”¯ä¸€");let r=0;a.forEach((a=>{for(let t=1;t<=6;t++){const e=`character${t}`;a[e]&&a[e].name&&r++}})),t.details.push(`ğŸ“Š å…±åŒ…å« ${r} ä¸ªå¹²å‘˜æ¡ç›®`);const u=s.every((a=>void 0!==e[a]))&&o&&n;return t.valid=u,t.message=u?`æ•°æ®éªŒè¯é€šè¿‡ (${a.length} ä¸ªç›’å·, ${r} ä¸ªå¹²å‘˜)`:"æ•°æ®æ ¼å¼ä¸å®Œæ•´ï¼Œå¯èƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨",t},closeValidationModal(){this.showValidationModal=!1,this.tempCustomData=null,this.validationResult={valid:!1,message:"",details:[]}},confirmUseCustomData(){if(this.validationResult.valid&&this.tempCustomData)try{this.clearAllDownloadedFiles(),e("customData",this.tempCustomData);const a=this.calculateDataSizeString(this.tempCustomData),t=new Date,s=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;this.customDataInfo={source:"è‡ªå®šä¹‰ä¸Šä¼ ",uploadTime:s,size:a,boxCount:this.tempCustomData.length,validation:this.validationResult},e("customDataInfo",this.customDataInfo),this.dataSource="custom",e("dataSource","custom"),this.dataCount=this.tempCustomData.length,this.unifyDataStorage(),this.closeValidationModal(),n({title:"è‡ªå®šä¹‰æ•°æ®ä¸Šä¼ æˆåŠŸ",icon:"success",duration:2e3}),this.loadDataInfo()}catch(a){console.error("ä¿å­˜è‡ªå®šä¹‰æ•°æ®å¤±è´¥:",a),n({title:"ä¿å­˜æ•°æ®å¤±è´¥",icon:"none"})}},calculateDataSizeString(a){try{const t=JSON.stringify(a);return`${(t.length/1024).toFixed(2)} KB`}catch(t){return"æœªçŸ¥"}},exportToLocal(){this.hasDomesticData?u({itemList:["ä¿å­˜ä¸ºJSONæ–‡ä»¶","åˆ†äº«æ•°æ®ç»™å¥½å‹"],success:a=>{0===a.tapIndex?this.saveDataAsJsonFile():1===a.tapIndex&&this.shareDataFile()}}):n({title:"æš‚æ— å›½å†…æºæ•°æ®",icon:"none"})},saveDataAsJsonFile(){try{const a=this.unifiedData||t("arknightsData"),e=this.unifiedDataVersion||t("dataVersion")||"æœªçŸ¥ç‰ˆæœ¬";if(!a||!Array.isArray(a))return void n({title:"å¯¼å‡ºå¤±è´¥ï¼šæ•°æ®ä¸å­˜åœ¨",icon:"none"});c({title:"æ­£åœ¨ç”Ÿæˆæ–‡ä»¶...",mask:!0});const s={version:e,exportTime:(new Date).toISOString(),exportType:"æ–¹èˆŸå¹²å‘˜æ•°æ®",dataSource:this.dataSource,dataCount:a.length,data:a},i=JSON.stringify(s,null,2),o=`arknights-data-${Date.now()}.json`;this.saveJsonToFile(i,o)}catch(a){console.error("å¯¼å‡ºæ•°æ®å¤±è´¥:",a),r(),n({title:"å¯¼å‡ºå¤±è´¥",icon:"none"})}},shareDataFile(){try{const a=t("arknightsData");if(!a||!Array.isArray(a))return void n({title:"æš‚æ— æ•°æ®å¯åˆ†äº«",icon:"none"});c({title:"æ­£åœ¨å‡†å¤‡æ•°æ®...",mask:!0});const e={version:t("dataVersion")||"æœªçŸ¥ç‰ˆæœ¬",exportTime:(new Date).toISOString(),exportType:"æ–¹èˆŸå¹²å‘˜æ•°æ®",dataCount:a.length,data:a.slice(0,100)},s=JSON.stringify(e,null,2),i=`arknights-share-${Date.now()}.json`;this.saveAndShareJsonFile(s,i)}catch(a){r(),console.error("åˆ†äº«æ•°æ®å¤±è´¥:",a),n({title:"åˆ†äº«å¤±è´¥",icon:"none"})}},saveJsonToFile(a,t){if("undefined"!=typeof wx&&wx.getFileSystemManager){const s=wx.getFileSystemManager(),i=`${wx.env.USER_DATA_PATH}/${t}`;try{s.writeFileSync(i,a,"utf8"),this.saveFileToLocal(i)}catch(e){console.error("å†™å…¥æ–‡ä»¶å¤±è´¥:",e),r(),n({title:"ä¿å­˜å¤±è´¥",icon:"none"})}}else this.saveWithUniApi(a,t)},saveFileToLocal(a){d({tempFilePath:a,success:a=>{r();const t=a.savedFilePath;l({title:"ä¿å­˜æˆåŠŸ",content:"æ•°æ®å·²ä¿å­˜ä¸ºJSONæ–‡ä»¶ï¼Œæ˜¯å¦è¦åˆ†äº«ç»™å¥½å‹ï¼Ÿ",confirmText:"åˆ†äº«",cancelText:"æŸ¥çœ‹æ–‡ä»¶",success:a=>{a.confirm?this.shareFileMessage(t):this.openSavedFile(t)}})},fail:t=>{r(),console.error("ä¿å­˜æ–‡ä»¶å¤±è´¥:",t),this.fallbackFileSave(a)}})},saveWithUniApi(a,t){"function"==typeof d?(r(),l({title:"æç¤º",content:"å½“å‰ç¯å¢ƒæ”¯æŒæœ‰é™ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶JSONæ•°æ®",confirmText:"å¤åˆ¶æ•°æ®",cancelText:"å–æ¶ˆ",success:t=>{t.confirm&&h({data:a,success:()=>{n({title:"æ•°æ®å·²å¤åˆ¶åˆ°å‰ªè´´æ¿",icon:"success",duration:2e3})}})}})):(r(),this.showJsonData(a))},fallbackFileSave(a){this.openSavedFile(a)},openSavedFile(a){"undefined"!=typeof wx&&g?g({filePath:a,showMenu:!0,success:()=>{console.log("æ‰“å¼€æ–‡æ¡£æˆåŠŸ")},fail:t=>{console.error("æ‰“å¼€æ–‡æ¡£å¤±è´¥:",t),this.showFileInfo(a)}}):this.showFileInfo(a)},showFileInfo(a){const t=a.split("/").pop()||"unknown.json";l({title:"æ–‡ä»¶å·²ä¿å­˜",content:`æ–‡ä»¶å: ${t}\n\næ–‡ä»¶å·²ä¿å­˜åˆ°æœ¬åœ°ï¼Œæ‚¨å¯ä»¥åœ¨æ–‡ä»¶ç®¡ç†ä¸­æŸ¥æ‰¾ã€‚`,confirmText:"ç¡®å®š",cancelText:"å¤åˆ¶è·¯å¾„",success:t=>{t.cancel&&h({data:a,success:()=>{n({title:"è·¯å¾„å·²å¤åˆ¶",icon:"success",duration:2e3})}})}})},saveAndShareJsonFile(a,t){if("undefined"!=typeof wx&&wx.getFileSystemManager){const s=wx.getFileSystemManager(),i=`${wx.env.USER_DATA_PATH}/${t}`;try{s.writeFileSync(i,a,"utf8"),this.shareFileMessage(i)}catch(e){console.error("å†™å…¥åˆ†äº«æ–‡ä»¶å¤±è´¥:",e),r(),n({title:"åˆ†äº«å¤±è´¥",icon:"none"})}}else r(),l({title:"åˆ†äº«æ•°æ®",content:"å½“å‰ç¯å¢ƒä¸æ”¯æŒç›´æ¥åˆ†äº«æ–‡ä»¶ï¼Œæ˜¯å¦å¤åˆ¶æ•°æ®æ–‡æœ¬ï¼Ÿ",confirmText:"å¤åˆ¶",cancelText:"å–æ¶ˆ",success:t=>{t.confirm&&h({data:a,success:()=>{n({title:"æ•°æ®å·²å¤åˆ¶",icon:"success",duration:2e3})}})}})},shareFileMessage(a){"undefined"!=typeof wx&&wx.shareFileMessage?(r(),wx.shareFileMessage({filePath:a,success:()=>{n({title:"åˆ†äº«æˆåŠŸ",icon:"success",duration:2e3})},fail:t=>{console.error("åˆ†äº«å¤±è´¥:",t),l({title:"åˆ†äº«å¤±è´¥",content:"æ— æ³•ç›´æ¥åˆ†äº«æ–‡ä»¶ï¼Œè¯·å°è¯•æ‰‹åŠ¨å‘é€æ–‡ä»¶",showCancel:!1,success:()=>{this.showFileInfo(a)}})}})):(r(),this.showFileInfo(a))},showJsonData(a){const t=a.length>1e3?a.substring(0,1e3)+"...":a;l({title:"JSONæ•°æ®",content:t,confirmText:"å¤åˆ¶å…¨éƒ¨",cancelText:"å…³é—­",success:t=>{t.confirm&&h({data:a,success:()=>{n({title:"æ•°æ®å·²å¤åˆ¶",icon:"success",duration:2e3})}})}})},downloadGithubData(){return new Promise((t=>{this.downloadTask=a({url:I.github.characterUrl,method:"GET",timeout:3e4,success:a=>{if(200===a.statusCode){let i=a.data;if("string"==typeof i)try{i=JSON.parse(i)}catch(s){return console.error("GitHubæ•°æ®JSONè§£æå¤±è´¥:",s),void t(!1)}if(Array.isArray(i))e("githubCharacters",i),e("githubDataVersion",(new Date).toISOString()),this.githubCharactersCount=i.length,this.githubDataStatusMessage=`GitHubç›’å·æ•°æ®ä¸‹è½½æˆåŠŸ (${i.length} ä¸ªç›’å·)`,t(!0);else{const a=this.processGithubCharacterData(i);this.githubCharactersCount=a.length,e("githubCharacters",a),e("githubDataVersion",(new Date).toISOString()),this.githubDataStatusMessage=`GitHubè§’è‰²æ•°æ®ä¸‹è½½æˆåŠŸ (${a.length} ä¸ªå¹²å‘˜)`,t(!0)}}else console.error("GitHubæœåŠ¡å™¨é”™è¯¯:",a.statusCode),t(!1)},fail:a=>{console.error("ä¸‹è½½GitHubæ•°æ®å¤±è´¥:",a),t(!1)}}),this.downloadTask.onProgressUpdate=a=>{a.progress>0&&(this.downloadProgress=a.progress)}}))},processGithubCharacterData(a){const t=[];if("object"==typeof a&&!Array.isArray(a)){for(const e in a){const s=a[e];if(!s.name||"trap"===s.profession||"token"===s.profession)continue;const i={id:e,name:s.name,rarity:s.rarity,profession:s.profession,subProfessionId:s.subProfessionId,onlyELITE1:this.isOnlyElite1(s.rarity)};t.push(i)}console.log(`å¤„ç†GitHubè§’è‰²æ•°æ®: åŸå§‹ ${Object.keys(a).length} ä¸ªï¼Œå¤„ç†å ${t.length} ä¸ªå¹²å‘˜`)}return t},isOnlyElite1:a=>["TIER_1","TIER_2","TIER_3"].includes(a),loadDataInfo(){try{const a=t("currentData"),e=t("currentDataVersion"),s=t("currentUpdateTime");if(a)this.unifiedData=a,this.unifiedDataVersion=e||"",this.unifiedUpdateTime=s||"",this.dataCount=Array.isArray(a)?a.length:0;else{const a=t("arknightsData"),e=t("localUpdateTime"),s=t("cloudUpdateTime"),i=t("dataVersion"),o=t("guessData"),n=t("searchWords"),l=t("customSearchWords"),c=t("customData");this.localUpdateTime=e||"",this.cloudUpdateTime=s||"",this.currentVersion=i||"",this.dataCount=a&&Array.isArray(a)?a.length:0,this.guessDataCount=o&&Array.isArray(o)?o.length:0,this.searchWordCount=n&&Array.isArray(n)?n.length:0,this.customWordsCount=l&&Array.isArray(l)?l.length:0,c&&Array.isArray(c)&&"custom"===this.dataSource&&(this.dataCount=c.length)}this.calculateDataSize()}catch(a){console.error("åŠ è½½æ•°æ®ä¿¡æ¯å¤±è´¥:",a)}},loadSearchSettings(){try{const a=t("enableEnglishSearch"),e=t("enableJapaneseSearch"),s=t("enableNicknameSearch");this.enableEnglishSearch="true"===a,this.enableJapaneseSearch="true"===e,this.enableNicknameSearch="true"===s,console.log("åŠ è½½æœç´¢è®¾ç½®:",{english:this.enableEnglishSearch,japanese:this.enableJapaneseSearch,nickname:this.enableNicknameSearch})}catch(a){console.error("åŠ è½½æœç´¢è®¾ç½®å¤±è´¥:",a)}},checkSearchOptionsWarning(){this.enabledSearchCount>=2?l({title:"æç¤º",content:"å½“å‰å¯ç”¨çš„æœç´¢é€‰é¡¹è¿‡å¤šï¼Œæœç´¢ç»“æœå¯èƒ½ä¼šæ¨¡ç³Šæˆ–è€…æ··ä¹±ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ",confirmText:"ç»§ç»­",cancelText:"å–æ¶ˆ",success:a=>{a.cancel?(this.enableEnglishSearch="true"===t("enableEnglishSearch"),this.enableJapaneseSearch="true"===t("enableJapaneseSearch"),this.enableNicknameSearch="true"===t("enableNicknameSearch")):this.saveSearchSettings()}}):this.saveSearchSettings()},saveSearchSettings(){e("enableEnglishSearch",this.enableEnglishSearch.toString()),e("enableJapaneseSearch",this.enableJapaneseSearch.toString()),e("enableNicknameSearch",this.enableNicknameSearch.toString()),this.cleanupSearchData(),(this.enableEnglishSearch||this.enableNicknameSearch)&&0===this.searchWordCount&&"github"!==this.dataSource&&this.downloadSearchData()},cleanupSearchData(){this.enableEnglishSearch||this.enableJapaneseSearch||this.enableNicknameSearch?this.enableEnglishSearch?this.enableNicknameSearch||this.removeNicknameData():this.removeEnglishData():(s("searchWords"),this.searchWordCount=0,this.searchDataStatusMessage="æœç´¢åŠŸèƒ½å·²å…¨éƒ¨å…³é—­ï¼Œæœç´¢è¯æ•°æ®å·²æ¸…ç†")},removeEnglishData(){try{const a=t("searchWords");if(a&&Array.isArray(a)){const t=a.map((a=>({...a,englishname:""})));e("searchWords",t)}}catch(a){console.error("æ¸…ç†è‹±æ–‡æ•°æ®å¤±è´¥:",a)}},removeNicknameData(){try{const a=t("searchWords");if(a&&Array.isArray(a)){const t=a.map((a=>({...a,searchword:[]})));e("searchWords",t)}}catch(a){console.error("æ¸…ç†å¤–å·æ•°æ®å¤±è´¥:",a)}},onEnglishSearchChange(a){"github"===this.dataSource||this.isDownloading||this.isUploading?n({title:this.isDownloading||this.isUploading?"æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™":"GitHubæºä¸æ”¯æŒæ­¤åŠŸèƒ½",icon:"none"}):(this.enableEnglishSearch=a.detail.value,this.checkSearchOptionsWarning())},onJapaneseSearchChange(a){this.enableJapaneseSearch=a.detail.value,this.checkSearchOptionsWarning()},onNicknameSearchChange(a){"github"===this.dataSource||this.isDownloading||this.isUploading?n({title:this.isDownloading||this.isUploading?"æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™":"GitHubæºä¸æ”¯æŒæ­¤åŠŸèƒ½",icon:"none"}):(this.enableNicknameSearch=a.detail.value,this.checkSearchOptionsWarning())},async downloadSearchData(){if("github"===this.dataSource||this.isDownloading||this.isUploading)n({title:this.isDownloading||this.isUploading?"æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™":"GitHubæºä¸æ”¯æŒæ­¤åŠŸèƒ½",icon:"none"});else{this.searchDataStatusMessage="æ­£åœ¨ä»çŸ¥æ™“äº‘è·å–æœç´¢è¯æ•°æ®ä¿¡æ¯...";try{const s=await this.getSearchDataUrlFromMinapp();this.searchDataUrl=s.url,console.log("è·å–åˆ°çš„æœç´¢è¯æ•°æ®URL:",this.searchDataUrl),this.searchDataStatusMessage="æ­£åœ¨ä¸‹è½½æœç´¢è¯æ•°æ®...";const i=await new Promise(((t,e)=>{a({url:this.searchDataUrl,method:"GET",timeout:1e4,success:t,fail:e})}));if(200===i.statusCode){let a=i.data;if("string"==typeof a)try{a=JSON.parse(a)}catch(t){return console.error("æœç´¢è¯æ•°æ®JSONè§£æå¤±è´¥:",t),void(this.searchDataStatusMessage="æœç´¢è¯æ•°æ®æ ¼å¼é”™è¯¯")}if(Array.isArray(a)){const t=this.processSearchWords(a);e("searchWords",t),this.searchWordCount=t.length,this.searchDataStatusMessage=`æœç´¢è¯æ•°æ®ä¸‹è½½æˆåŠŸ (${t.length} ä¸ªå¹²å‘˜)`,e("searchDataVersion",s.version||"æœªçŸ¥ç‰ˆæœ¬"),e("searchDataUpdateTime",s.updateTime||(new Date).toISOString()),n({title:"æœç´¢è¯æ•°æ®æ›´æ–°æˆåŠŸ",icon:"success",duration:2e3}),this.loadDataInfo()}else this.searchDataStatusMessage="æœç´¢è¯æ•°æ®æ ¼å¼ä¸æ­£ç¡®"}else this.searchDataStatusMessage=`æœåŠ¡å™¨é”™è¯¯: ${i.statusCode}`}catch(s){console.error("ä¸‹è½½æœç´¢è¯æ•°æ®å¤±è´¥:",s),this.searchDataStatusMessage="ä¸‹è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"}}},processSearchWords(a){const t={};let e=0,s=0;console.log("å¼€å§‹å¤„ç†æœç´¢è¯æ•°æ®ï¼ŒåŸå§‹æ•°æ®é•¿åº¦:",a.length),a.forEach(((a,i)=>{if(s++,a.name&&""!==a.name.trim()){const s=a.name.trim();if(t[s]){if(!a.englishname&&!a.englishName||t[s].englishname||(t[s].englishname=a.englishname||a.englishName),!a.japanesename&&!a.japaneseName||t[s].japanesename||(t[s].japanesename=a.japanesename||a.japaneseName),a.searchword||a.searchWord){const e=a.searchword||a.searchWord||[];Array.isArray(e)&&e.forEach((a=>{a&&!t[s].searchword.includes(a)&&t[s].searchword.push(a)}))}}else t[s]={name:s,englishname:a.englishname||a.englishName||"",japanesename:a.japanesename||a.japaneseName||"",searchword:a.searchword||a.searchWord||[]},e++}else Object.keys(a).forEach((s=>{if(s.startsWith("character")&&a[s]&&a[s].name){const i=a[s],o=i.name.trim();if(t[o]){if(!i.englishname&&!i.englishName||t[o].englishname||(t[o].englishname=i.englishname||i.englishName),!i.japanesename&&!i.japaneseName||t[o].japanesename||(t[o].japanesename=i.japanesename||i.japaneseName),i.searchword||i.serachword||i.searchWord){const a=i.searchword||i.serachword||i.searchWord||[];Array.isArray(a)&&a.forEach((a=>{a&&!t[o].searchword.includes(a)&&t[o].searchword.push(a)}))}}else t[o]={name:o,englishname:i.englishname||i.englishName||"",japanesename:i.japanesename||i.japaneseName||"",searchword:i.searchword||i.serachword||i.searchWord||[]},e++}}))})),console.log(`å¤„ç†æœç´¢è¯æ•°æ®: éå† ${s} ä¸ªå…ƒç´ , å»é‡å ${e} ä¸ªå¹²å‘˜`);const i=Object.values(t);return console.log("å¤„ç†åçš„æœç´¢è¯æ•°æ®ç¤ºä¾‹ï¼ˆå‰3ä¸ªï¼‰:",i.slice(0,3)),i},manageCustomSearchWords(){"github"===this.dataSource||this.isDownloading||this.isUploading?n({title:this.isDownloading||this.isUploading?"æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™":"GitHubæºä¸æ”¯æŒæ­¤åŠŸèƒ½",icon:"none"}):f({url:"/packageA/custom-words/custom-words"})},loadGuessDataSetting(){try{const a=t("enableGuessData");this.enableGuessData="true"===a,this.enableGuessData&&0===this.guessDataCount&&"github"!==this.dataSource&&this.downloadGuessData()}catch(a){console.error("åŠ è½½é¢„æµ‹æ•°æ®è®¾ç½®å¤±è´¥:",a)}},onGuessDataChange(a){"github"===this.dataSource||this.isDownloading||this.isUploading?n({title:this.isDownloading||this.isUploading?"æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™":"GitHubæºä¸æ”¯æŒæ­¤åŠŸèƒ½",icon:"none"}):(this.enableGuessData=a.detail.value,e("enableGuessData",this.enableGuessData.toString()),this.enableGuessData?this.downloadGuessData():(this.guessDataStatusMessage="é¢„æµ‹æ•°æ®å·²ç¦ç”¨",s("guessData"),this.guessDataCount=0,setTimeout((()=>{this.guessDataStatusMessage=""}),2e3)))},async downloadGuessData(){if("github"===this.dataSource||this.isDownloading||this.isUploading)n({title:this.isDownloading||this.isUploading?"æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™":"GitHubæºä¸æ”¯æŒæ­¤åŠŸèƒ½",icon:"none"});else{this.guessDataStatusMessage="æ­£åœ¨ä¸‹è½½é¢„æµ‹æ•°æ®...";try{const s=I.domestic.guessUrl,i=await new Promise(((t,e)=>{a({url:s,method:"GET",timeout:1e4,success:t,fail:e})}));if(200===i.statusCode){let a=i.data;if("string"==typeof a)try{a=JSON.parse(a)}catch(t){return console.error("é¢„æµ‹æ•°æ®JSONè§£æå¤±è´¥:",t),void(this.guessDataStatusMessage="é¢„æµ‹æ•°æ®æ ¼å¼é”™è¯¯")}if(Array.isArray(a)){const t=a.map((a=>{const t={};for(const e in a)"Box_id"===e?t[e]=String(a[e]||""):e.startsWith("character")?t[e]=a[e]:t[e]=String(a[e]||"");return t.Box_type="guess",t}));e("guessData",t),this.guessDataCount=t.length,this.guessDataStatusMessage=`é¢„æµ‹æ•°æ®ä¸‹è½½æˆåŠŸ (${t.length} ä¸ªé¢„æµ‹ç›’å·)`,n({title:"é¢„æµ‹æ•°æ®æ›´æ–°æˆåŠŸ",icon:"success",duration:2e3}),this.loadDataInfo()}else this.guessDataStatusMessage="é¢„æµ‹æ•°æ®æ ¼å¼ä¸æ­£ç¡®"}else this.guessDataStatusMessage=`æœåŠ¡å™¨é”™è¯¯: ${i.statusCode}`}catch(s){console.error("ä¸‹è½½é¢„æµ‹æ•°æ®å¤±è´¥:",s),this.guessDataStatusMessage="ä¸‹è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"}}},calculateDataSize(){try{let a=this.unifiedData||t("currentData");if(!a){const a=t("arknightsData"),e=t("guessData"),s=t("searchWords"),i=t("customSearchWords"),o=t("githubCharacters"),n=t("customData");let l=0;const c=a=>{let t=0;for(let e=0;e<a.length;e++){const s=a.charCodeAt(e);t+=s<=127?1:s<=2047?2:3}return t};if(a&&Array.isArray(a)){l+=c(JSON.stringify(a))}if(e&&Array.isArray(e)){l+=c(JSON.stringify(e))}if(s&&Array.isArray(s)){l+=c(JSON.stringify(s))}if(i&&Array.isArray(i)){l+=c(JSON.stringify(i))}if(o&&Array.isArray(o)){l+=c(JSON.stringify(o))}if(n&&Array.isArray(n)){l+=c(JSON.stringify(n))}if(l>0){const a=(l/1024).toFixed(2);this.localDataSize=`${a} KB`}else this.localDataSize="æ— æ•°æ®";return}const e=(JSON.stringify(a).length/1024).toFixed(2);this.localDataSize=`${e} KB`}catch(a){console.error("è®¡ç®—æ•°æ®å¤§å°å¤±è´¥:",a),this.localDataSize="æœªçŸ¥"}},formatCloudTime(a){if(!a)return"";try{const t=new Date(a);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}catch(t){return console.error("æ ¼å¼åŒ–äº‘ç«¯æ—¶é—´å¤±è´¥:",t),a}},showDeleteConfirm(){this.isDownloading||this.isUploading?n({title:"æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™",icon:"none"}):l({title:"ç¡®è®¤åˆ é™¤",content:"ç¡®å®šè¦åˆ é™¤æ‰€æœ‰æœ¬åœ°å¹²å‘˜æ•°æ®å—ï¼Ÿåˆ é™¤åéœ€è¦é‡æ–°ä¸‹è½½æ•°æ®æ‰èƒ½ä½¿ç”¨æŸ¥è¯¢åŠŸèƒ½ã€‚",confirmText:"åˆ é™¤",confirmColor:"#FA5151",success:a=>{a.confirm&&this.deleteLocalData()}})},deleteLocalData(){try{if(!this.clearAllDownloadedFiles())throw new Error("æ¸…é™¤æ•°æ®å¤±è´¥");this.dataSource="domestic",e("dataSource","domestic"),this.resetAllDataStates(),n({title:"æ•°æ®åˆ é™¤æˆåŠŸï¼Œå·²åˆ‡æ¢å›å›½å†…æº",icon:"success",duration:2e3}),setTimeout((()=>{m()}),1500)}catch(a){console.error("åˆ é™¤æ•°æ®å¤±è´¥:",a),n({title:"åˆ é™¤å¤±è´¥",icon:"error",duration:2e3})}}}},[["render",function(a,t,e,s,i,o){const n=A,l=p,c=N,r=G;return b(),S(l,{class:"container"},{default:D((()=>[w(l,{class:"section"},{default:D((()=>[w(l,{class:"section-header"},{default:D((()=>[w(n,{class:"section-title"},{default:D((()=>[_("æ•°æ®æºè®¾ç½®")])),_:1})])),_:1}),w(l,{class:"section-content"},{default:D((()=>[w(l,{class:"data-source-options"},{default:D((()=>[(b(!0),y(k,null,C(i.dataSourceOptions,(a=>(b(),S(l,{class:x(["data-source-item",{active:i.dataSource===a.value,disabled:a.disabled||"github"===a.value&&i.isDownloading,loading:"github"===a.value&&i.isDownloading}]),key:a.value,onClick:t=>o.selectDataSource(a.value)},{default:D((()=>[w(l,{class:"data-source-info"},{default:D((()=>[w(n,{class:"data-source-label"},{default:D((()=>[_(v(a.label)+" ",1),"github"===a.value&&i.isDownloading?(b(),S(n,{key:0,class:"loading-text"},{default:D((()=>[_(" (ä¸‹è½½ä¸­...)")])),_:1})):T("",!0)])),_:2},1024),w(n,{class:"data-source-desc"},{default:D((()=>[_(v(a.desc),1)])),_:2},1024),a.warning?(b(),S(n,{key:0,class:"data-source-warning"},{default:D((()=>[_(v(a.warning),1)])),_:2},1024)):T("",!0)])),_:2},1024),w(l,{class:"data-source-radio"},{default:D((()=>[i.dataSource!==a.value||i.isDownloading?T("",!0):(b(),S(l,{key:0,class:"radio-inner"})),"github"===a.value&&i.isDownloading?(b(),S(l,{key:1,class:"loading-spinner"})):T("",!0)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),"custom"===i.dataSource||"local"===i.dataSource?(b(),S(l,{key:0,class:"custom-data-management"},{default:D((()=>[w(l,{class:"custom-data-actions"},{default:D((()=>[w(c,{class:"upload-btn",onClick:o.uploadCustomData,disabled:i.isUploading},{default:D((()=>[i.isUploading?(b(),S(n,{key:0},{default:D((()=>[_("ä¸Šä¼ ä¸­...")])),_:1})):(b(),S(n,{key:1},{default:D((()=>[_("ä¸Šä¼ è‡ªå®šä¹‰JSONæ•°æ®")])),_:1}))])),_:1},8,["onClick","disabled"]),w(c,{class:"export-btn",onClick:o.exportToLocal,disabled:!i.hasDomesticData},{default:D((()=>[_(" å¯¼å‡ºå¹¶åˆ†äº«æ•°æ® ")])),_:1},8,["onClick","disabled"])])),_:1}),i.customDataInfo?(b(),S(l,{key:0,class:"custom-data-info"},{default:D((()=>[w(n,{class:"info-title"},{default:D((()=>[_("è‡ªå®šä¹‰æ•°æ®ä¿¡æ¯")])),_:1}),w(l,{class:"info-item"},{default:D((()=>[w(n,{class:"info-label"},{default:D((()=>[_("æ•°æ®æ¥æº:")])),_:1}),w(n,{class:"info-value"},{default:D((()=>[_(v(i.customDataInfo.source),1)])),_:1})])),_:1}),w(l,{class:"info-item"},{default:D((()=>[w(n,{class:"info-label"},{default:D((()=>[_("ä¸Šä¼ æ—¶é—´:")])),_:1}),w(n,{class:"info-value"},{default:D((()=>[_(v(i.customDataInfo.uploadTime),1)])),_:1})])),_:1}),w(l,{class:"info-item"},{default:D((()=>[w(n,{class:"info-label"},{default:D((()=>[_("æ•°æ®å¤§å°:")])),_:1}),w(n,{class:"info-value"},{default:D((()=>[_(v(i.customDataInfo.size),1)])),_:1})])),_:1}),w(l,{class:"info-item"},{default:D((()=>[w(n,{class:"info-label"},{default:D((()=>[_("ç›’å·æ•°é‡:")])),_:1}),w(n,{class:"info-value"},{default:D((()=>[_(v(i.customDataInfo.boxCount)+" ä¸ª",1)])),_:1})])),_:1}),i.customDataInfo.validation?(b(),S(l,{key:0,class:"info-item"},{default:D((()=>[w(n,{class:"info-label"},{default:D((()=>[_("æ•°æ®éªŒè¯:")])),_:1}),w(n,{class:x(["info-value",i.customDataInfo.validation.valid?"valid":"invalid"])},{default:D((()=>[_(v(i.customDataInfo.validation.message),1)])),_:1},8,["class"])])),_:1})):T("",!0)])),_:1})):T("",!0),"custom"===i.dataSource?(b(),S(l,{key:1,class:"custom-data-warning"},{default:D((()=>[w(n,{class:"warning-title"},{default:D((()=>[_("âš ï¸ ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®è¯·æ³¨æ„")])),_:1}),w(n,{class:"warning-text"},{default:D((()=>[_("1. è‡ªå®šä¹‰æ•°æ®éœ€ç¬¦åˆç‰¹å®šæ ¼å¼è¦æ±‚æ‰èƒ½æ­£å¸¸ä½¿ç”¨")])),_:1}),w(n,{class:"warning-text"},{default:D((()=>[_("2. ä¸Šä¼ åç³»ç»Ÿä¼šè‡ªåŠ¨éªŒè¯æ•°æ®æ ¼å¼")])),_:1}),w(n,{class:"warning-text"},{default:D((()=>[_("3. æ ¼å¼é”™è¯¯å¯èƒ½å¯¼è‡´åŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨")])),_:1}),w(n,{class:"warning-text"},{default:D((()=>[_('4. å»ºè®®ä½¿ç”¨"å¯¼å‡ºå›½å†…æºæ•°æ®åˆ°æœ¬åœ°"åŠŸèƒ½è·å–æ ‡å‡†æ•°æ®')])),_:1})])),_:1})):T("",!0)])),_:1})):T("",!0),w(l,{class:"data-source-tips"},{default:D((()=>[w(n,{class:"tip-text"},{default:D((()=>[_("*æ¨èä½¿ç”¨å›½å†…æºï¼Œé€Ÿåº¦æœ€å¿«æœ€ç¨³å®š")])),_:1}),w(n,{class:"tip-text"},{default:D((()=>[_("*GitHubæºæ— æ³•å±•ç¤ºåˆ†ç›’ä¿¡æ¯ã€å¸‚ä»·ä¿¡æ¯ã€è§’è‰²å¤´åƒåŠçƒ­åº¦æ ‡è®°ç­‰ç‰¹æ®ŠåŠŸèƒ½")])),_:1}),"local"===i.dataSource?(b(),S(n,{key:0,class:"tip-text"},{default:D((()=>[_("å½“å‰ä½¿ç”¨æœ¬åœ°æ•°æ®ï¼Œç‰ˆæœ¬ï¼š"+v(i.currentVersion||"æœªçŸ¥"),1)])),_:1})):T("",!0),"custom"===i.dataSource?(b(),S(n,{key:1,class:"tip-text"},{default:D((()=>[_("å½“å‰ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®")])),_:1})):T("",!0),"github"===i.dataSource?(b(),S(n,{key:2,class:"tip-text"},{default:D((()=>[_("å½“å‰ä½¿ç”¨GitHubæºï¼Œä»…æ”¯æŒåŸºç¡€æ•°æ®")])),_:1})):T("",!0),i.isDownloading?(b(),S(n,{key:3,class:"tip-text"},{default:D((()=>[_("æ­£åœ¨ä¸‹è½½GitHubæ•°æ®ï¼Œè¯·ç¨å€™...")])),_:1})):T("",!0)])),_:1})])),_:1})])),_:1}),w(l,{class:"section"},{default:D((()=>[w(l,{class:"section-header"},{default:D((()=>[w(n,{class:"section-title"},{default:D((()=>[_("æ•°æ®ç®¡ç†")])),_:1})])),_:1}),w(l,{class:"section-content"},{default:D((()=>[w(l,{class:"setting-item"},{default:D((()=>[w(l,{class:"setting-info"},{default:D((()=>[w(n,{class:"setting-name"},{default:D((()=>[_("åˆ é™¤æœ¬åœ°æ•°æ®")])),_:1}),w(n,{class:"setting-desc"},{default:D((()=>[_("æ¸…é™¤å·²ä¸‹è½½çš„å¹²å‘˜æ•°æ®ï¼Œé‡Šæ”¾å­˜å‚¨ç©ºé—´")])),_:1}),i.localDataSize?(b(),S(n,{key:0,class:"data-info"},{default:D((()=>[_("å½“å‰æ•°æ®å¤§å°: "+v(i.localDataSize),1)])),_:1})):T("",!0),w(n,{class:"tip-text"},{default:D((()=>[_("*åˆ é™¤æ•°æ®åï¼Œæ‚¨éœ€è¦é‡æ–°ä¸‹è½½æ•°æ®æ‰èƒ½ä½¿ç”¨å…¶ä»–åŠŸèƒ½")])),_:1}),w(n,{class:"tip-text"},{default:D((()=>[_("*åˆ é™¤æ•°æ®åä¼šè‡ªåŠ¨åˆ‡æ¢å›å›½å†…æº")])),_:1})])),_:1}),w(c,{class:"danger-btn",onClick:o.showDeleteConfirm,disabled:i.isDownloading},{default:D((()=>[_("åˆ é™¤æ•°æ®")])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])),_:1}),w(l,{class:"section"},{default:D((()=>[w(l,{class:"section-header"},{default:D((()=>[w(n,{class:"section-title"},{default:D((()=>[_("æœç´¢åŠŸèƒ½è®¾ç½®")])),_:1})])),_:1}),w(l,{class:"section-content"},{default:D((()=>[w(l,{class:"search-switches-row"},{default:D((()=>[w(l,{class:"search-switch-item"},{default:D((()=>[w(l,{class:"switch-info"},{default:D((()=>[w(n,{class:"switch-name"},{default:D((()=>[_("å¯ç”¨è‹±æ–‡åæœç´¢")])),_:1}),w(n,{class:"switch-desc-small"},{default:D((()=>[_("Enable English Name search")])),_:1}),w(r,{checked:i.enableEnglishSearch,onChange:o.onEnglishSearchChange,class:"search-switch",disabled:"github"===i.dataSource||i.isDownloading},null,8,["checked","onChange","disabled"]),"github"===i.dataSource?(b(),S(n,{key:0,class:"warning-text-small"},{default:D((()=>[_("GitHubæºä¸æ”¯æŒ")])),_:1})):T("",!0)])),_:1})])),_:1}),w(l,{class:"search-switch-item disabled"},{default:D((()=>[w(l,{class:"switch-info"},{default:D((()=>[w(n,{class:"switch-name"},{default:D((()=>[_("å¯ç”¨æ—¥æ–‡åæœç´¢")])),_:1}),w(n,{class:"switch-desc-small"},{default:D((()=>[_("æ—¥æœ¬èªåæ¤œç´¢ã‚’æœ‰åŠ¹ã«ã™ã‚‹")])),_:1}),w(n,{class:"dev-tag-small"},{default:D((()=>[_("å¼€å‘ä¸­")])),_:1}),w(r,{checked:i.enableJapaneseSearch,onChange:o.onJapaneseSearchChange,class:"search-switch",disabled:""},null,8,["checked","onChange"])])),_:1})])),_:1}),w(l,{class:"search-switch-item"},{default:D((()=>[w(l,{class:"switch-info"},{default:D((()=>[w(n,{class:"switch-name"},{default:D((()=>[_("å¯ç”¨å¤–å·æœç´¢")])),_:1}),w(n,{class:"switch-desc-small"},{default:D((()=>[_("ä»…æ”¯æŒéƒ¨åˆ†å¹²å‘˜")])),_:1}),w(r,{checked:i.enableNicknameSearch,onChange:o.onNicknameSearchChange,class:"search-switch",disabled:"github"===i.dataSource||i.isDownloading},null,8,["checked","onChange","disabled"]),"github"===i.dataSource?(b(),S(n,{key:0,class:"warning-text-small"},{default:D((()=>[_("GitHubæºä¸æ”¯æŒ")])),_:1})):T("",!0)])),_:1})])),_:1})])),_:1}),i.enableEnglishSearch||i.enableNicknameSearch?(b(),S(l,{key:0,class:"search-data-status"},{default:D((()=>[w(n,{class:x(["search-status-text",o.searchDataStatusClass])},{default:D((()=>[_(v(i.searchDataStatusMessage),1)])),_:1},8,["class"]),w(c,{class:"retry-btn",onClick:o.downloadSearchData,disabled:"github"===i.dataSource||i.isDownloading},{default:D((()=>[_(v(i.searchDataStatusMessage.includes("å¤±è´¥")?"é‡è¯•ä¸‹è½½":"æ›´æ–°æ•°æ®"),1)])),_:1},8,["onClick","disabled"])])),_:1})):T("",!0),w(l,{class:"setting-item"},{default:D((()=>[w(l,{class:"setting-info"},{default:D((()=>[w(n,{class:"setting-name"},{default:D((()=>[_("è‡ªå®šä¹‰æœç´¢è¯")])),_:1}),w(n,{class:"setting-desc"},{default:D((()=>[_("æ·»åŠ ä¸ªäººå¸¸ç”¨çš„å¹²å‘˜åˆ«åå’Œæœç´¢è¯")])),_:1}),i.customWordsCount>0?(b(),S(n,{key:0,class:"data-info"},{default:D((()=>[_("å·²æ·»åŠ  "+v(i.customWordsCount)+" ä¸ªè‡ªå®šä¹‰æœç´¢è¯",1)])),_:1})):T("",!0),"github"===i.dataSource?(b(),S(n,{key:1,class:"warning-text"},{default:D((()=>[_("GitHubæºæ— æ³•ä½¿ç”¨è‡ªå®šä¹‰æœç´¢è¯")])),_:1})):T("",!0)])),_:1}),w(c,{class:"secondary-btn",onClick:o.manageCustomSearchWords,disabled:"github"===i.dataSource||i.isDownloading},{default:D((()=>[_("ç®¡ç†")])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])),_:1}),w(l,{class:"section"},{default:D((()=>[w(l,{class:"section-header"},{default:D((()=>[w(n,{class:"section-title"},{default:D((()=>[_("åŠŸèƒ½è®¾ç½®")])),_:1})])),_:1}),w(l,{class:"section-content"},{default:D((()=>[w(l,{class:"setting-item"},{default:D((()=>[w(l,{class:"setting-info"},{default:D((()=>[w(n,{class:"setting-name"},{default:D((()=>[_("å¯ç”¨é¢„æµ‹é€šè¡Œè¯")])),_:1}),w(n,{class:"setting-desc"},{default:D((()=>[_("æ˜¾ç¤ºå®˜æ–¹æœªå…¬å¸ƒçš„æ–°é€šè¡Œè¯é¢„æµ‹ä¿¡æ¯")])),_:1}),w(n,{class:"warning-text"},{default:D((()=>[_("è¯·ä»¥å®˜æ–¹æœ€ç»ˆå‘å¸ƒä¸ºå‡†")])),_:1}),w(n,{class:"red-text"},{default:D((()=>[_("*é‡å¯ç¨‹åºç”Ÿæ•ˆ")])),_:1}),"github"===i.dataSource?(b(),S(n,{key:0,class:"warning-text"},{default:D((()=>[_("GitHubæºä¸æ”¯æŒé¢„æµ‹æ•°æ®")])),_:1})):T("",!0)])),_:1}),w(r,{checked:i.enableGuessData,onChange:o.onGuessDataChange,class:"setting-switch",disabled:"github"===i.dataSource||i.isDownloading},null,8,["checked","onChange","disabled"])])),_:1}),i.enableGuessData&&"github"!==i.dataSource?(b(),S(l,{key:0,class:"guess-data-status"},{default:D((()=>[w(n,{class:x(["guess-status-text",o.guessDataStatusClass])},{default:D((()=>[_(v(i.guessDataStatusMessage),1)])),_:1},8,["class"]),w(c,{class:"retry-btn",onClick:o.downloadGuessData,disabled:i.isDownloading},{default:D((()=>[_(v(i.guessDataStatusMessage.includes("å¤±è´¥")?"é‡è¯•ä¸‹è½½":"æ›´æ–°æ•°æ®"),1)])),_:1},8,["onClick","disabled"])])),_:1})):T("",!0)])),_:1})])),_:1}),w(l,{class:"data-status-section"},{default:D((()=>[w(n,{class:"status-title"},{default:D((()=>[_("å½“å‰æ•°æ®çŠ¶æ€")])),_:1}),w(l,{class:"status-list"},{default:D((()=>[w(l,{class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("å½“å‰æ•°æ®æº:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(o.getCurrentDataSourceName()),1)])),_:1})])),_:1}),i.localUpdateTime&&"github"!==i.dataSource?(b(),S(l,{key:0,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("æœ¬åœ°ä¸Šæ¬¡æ›´æ–°:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(i.localUpdateTime),1)])),_:1})])),_:1})):T("",!0),i.cloudUpdateTime&&"github"!==i.dataSource?(b(),S(l,{key:1,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("äº‘ç«¯æœ€æ–°æ›´æ–°:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(o.formatCloudTime(i.cloudUpdateTime)),1)])),_:1})])),_:1})):T("",!0),i.currentVersion?(b(),S(l,{key:2,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("æ•°æ®ç‰ˆæœ¬:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(i.currentVersion),1)])),_:1})])),_:1})):T("",!0),i.dataCount>0&&"github"!==i.dataSource?(b(),S(l,{key:3,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("æ•°æ®é‡:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(i.dataCount)+" ä¸ªç›’å·",1)])),_:1})])),_:1})):T("",!0),i.enableGuessData&&i.guessDataCount>0&&"github"!==i.dataSource?(b(),S(l,{key:4,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("é¢„æµ‹æ•°æ®:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(i.guessDataCount)+" ä¸ªé¢„æµ‹ç›’å·",1)])),_:1})])),_:1})):T("",!0),i.searchWordCount>0&&"github"!==i.dataSource?(b(),S(l,{key:5,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("æœç´¢è¯æ•°æ®:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(i.searchWordCount)+" ä¸ªå¹²å‘˜",1)])),_:1})])),_:1})):T("",!0),"github"===i.dataSource&&i.githubCharactersCount>0?(b(),S(l,{key:6,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("GitHubè§’è‰²æ•°æ®:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(i.githubCharactersCount)+" ä¸ªå¹²å‘˜",1)])),_:1})])),_:1})):T("",!0),i.customDataInfo&&"custom"===i.dataSource?(b(),S(l,{key:7,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("è‡ªå®šä¹‰æ•°æ®:")])),_:1}),w(n,{class:"status-value"},{default:D((()=>[_(v(i.customDataInfo.boxCount)+" ä¸ªç›’å·",1)])),_:1})])),_:1})):T("",!0),i.isDownloading?(b(),S(l,{key:8,class:"status-item"},{default:D((()=>[w(n,{class:"status-label"},{default:D((()=>[_("ä¸‹è½½çŠ¶æ€:")])),_:1}),w(n,{class:"status-value loading-status"},{default:D((()=>[_("æ­£åœ¨ä¸‹è½½GitHubæ•°æ®...")])),_:1})])),_:1})):T("",!0)])),_:1})])),_:1}),i.showValidationModal?(b(),S(l,{key:0,class:"validation-modal"},{default:D((()=>[w(l,{class:"validation-content"},{default:D((()=>[w(n,{class:"validation-title"},{default:D((()=>[_("æ•°æ®éªŒè¯ç»“æœ")])),_:1}),w(l,{class:x(["validation-result",i.validationResult.valid?"valid":"invalid"])},{default:D((()=>[w(n,{class:"result-text"},{default:D((()=>[_(v(i.validationResult.message),1)])),_:1}),i.validationResult.details?(b(),S(l,{key:0,class:"result-details"},{default:D((()=>[(b(!0),y(k,null,C(i.validationResult.details,((a,t)=>(b(),S(n,{class:"detail-item",key:t},{default:D((()=>[_(v(a),1)])),_:2},1024)))),128))])),_:1})):T("",!0)])),_:1},8,["class"]),w(l,{class:"validation-actions"},{default:D((()=>[i.validationResult.valid?T("",!0):(b(),S(c,{key:0,class:"cancel-btn",onClick:o.closeValidationModal},{default:D((()=>[_("å–æ¶ˆ")])),_:1},8,["onClick"])),w(c,{class:"confirm-btn",onClick:o.confirmUseCustomData,disabled:!i.validationResult.valid},{default:D((()=>[_(v(i.validationResult.valid?"ä½¿ç”¨æ­¤æ•°æ®":"æ•°æ®æ ¼å¼é”™è¯¯"),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])),_:1})):T("",!0),i.isUploading?(b(),S(l,{key:1,class:"upload-progress"},{default:D((()=>[w(l,{class:"progress-content"},{default:D((()=>[w(n,{class:"progress-title"},{default:D((()=>[_("æ­£åœ¨ä¸Šä¼ æ•°æ®")])),_:1}),w(n,{class:"progress-tip"},{default:D((()=>[_("æ­£åœ¨éªŒè¯æ•°æ®æ ¼å¼ï¼Œè¯·ç¨å€™...")])),_:1}),w(l,{class:"progress-bar"},{default:D((()=>[w(l,{class:"progress-inner",style:U({width:i.uploadProgress+"%"})},null,8,["style"])])),_:1}),w(n,{class:"progress-text"},{default:D((()=>[_(v(i.uploadProgress)+"%",1)])),_:1})])),_:1})])),_:1})):T("",!0),i.isDownloading?(b(),S(l,{key:2,class:"download-progress"},{default:D((()=>[w(l,{class:"progress-content"},{default:D((()=>[w(n,{class:"progress-title"},{default:D((()=>[_("æ­£åœ¨ä¸‹è½½GitHubæ•°æ®")])),_:1}),w(n,{class:"progress-tip"},{default:D((()=>[_("æ•°æ®é‡è¾ƒå¤§ï¼Œå¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…...")])),_:1}),w(l,{class:"progress-bar"},{default:D((()=>[w(l,{class:"progress-inner",style:U({width:i.downloadProgress+"%"})},null,8,["style"])])),_:1}),w(n,{class:"progress-text"},{default:D((()=>[_("å·²ä¸‹è½½: "+v(i.downloadProgress)+"%",1)])),_:1}),w(c,{class:"cancel-btn",onClick:o.cancelDownload},{default:D((()=>[_("å–æ¶ˆä¸‹è½½")])),_:1},8,["onClick"])])),_:1})])),_:1})):T("",!0)])),_:1})}],["__scopeId","data-v-1a0ca12f"]]);export{O as default};
